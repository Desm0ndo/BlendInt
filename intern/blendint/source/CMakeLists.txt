# CMake file for BlendInt project
#

add_subdirectory(core)
add_subdirectory(font)
add_subdirectory(opengl)
add_subdirectory(gui)
add_subdirectory(stock)
add_subdirectory(cppevent)

file(WRITE ${CMAKE_BINARY_DIR}/src/dummy.cpp "// dummy file, generated by cmake")
#file(GLOB libblendint_SRC "*.cpp")
set(libblendint_SRC "${CMAKE_BINARY_DIR}/src/dummy.cpp")

if(BUILD_STATIC_LIBRARY)
    add_library (blendint ${libblendint_SRC})
else()
    add_library (blendint SHARED ${libblendint_SRC})
endif()

set(LIBRARY_OUTPUT_PATH ${PROJECT_BINARY_DIR}/lib)

if(NOT DEFINED BUILD_STATIC_LIBRARY)
    set_target_properties(blendint PROPERTIES VERSION 1 SOVERSION 1)
endif()

set(MODULES BlendIntCore BlendIntFont BlendIntOpenGL BlendIntGui BlendIntStock
    cppevent)

target_link_libraries(blendint ${MODULES} ${LIBS})

install(TARGETS blendint DESTINATION lib)
